
{% extends "layout.html" %}
  {% block content1 %}
    <main role="main" class="container">
    <div id="myDiv"><!-- Plotly chart will be drawn inside this DIV --></div>
    <script>

      var getData= $.get('/att');

      getData.done(function(resp){
        // alert(resp);
        var json = JSON.parse(resp);

        var trace1 = {
            type: 'bar',
            // x: [1, 2, 3, 4],
            x: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            y: [json["1"],json["2"],json["3"],json["4"],json["5"],json["6"],json["7"],json["8"],json["9"],json["10"],json["11"],json["12"]],

            marker: {
              color: 'rgb(65, 84, 112)',
              line: {
                  width: 1
              }},

            type: 'bar'
        };

        var data = [ trace1 ];

        var layout = {
          title: 'Monthly Attendance of year 2019',
          xaxis: {
            title: 'Month',
            tickfont: {
              size: 14,
              color: 'rgb(107, 107, 107)'
            }},
          yaxis: {
            title: 'Number of days',
            titlefont: {
              size: 16,
              color: 'rgb(107, 107, 107)'
            },
            tickfont: {
              size: 14,
              color: "rgb(107, 107, 107)"
            }
          },
          legend: {
            x: 0,
            y: 1.0,
            bgcolor: 'rgba(255, 255, 255, 0)',
            bordercolor: 'rgba(255, 255, 255, 0)'
          },
        };

        Plotly.newPlot('myDiv', data, layout, {responsive: true});
      });

    </script>
    </main>

  {% endblock content1 %}
